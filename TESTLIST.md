# 测试项目

> 请打开配置中的“**调试**”选项。

## 自动管理输入法状态

> **测试项目**

- 以任意方式进入输入控件，**输入法应该启用**（通过按 Shift 键查看输入模式是否改变来判断）。

- 在输入控件中，按下鼠标左键，**输入法应该保持启用**。

- 不输入任何文字时，在输入控件之外，窗口之内（不含非客户区），按下鼠标左键，退出输入控件，**输入法应该停用**。

- 不输入任何文字时，在窗口之内（不含非客户区），按下鼠标右键，退出输入控件，**输入法应该停用**。

- 不输入任何文字时，按下 ESC、Tab、Enter（含数字键盘）按键，退出输入控件，**输入法应该停用**。

## 使用输入法输入文字

### 状态切换 - 测试

> **测试项目**

- 鼠标进入视图区，**输入法应该启用**；<br/>鼠标离开视图区，**输入法应该停用**。

- 新建任意窗口，**控制台中应有对应的管理器和检查器启动**。

- 特定于【文本物体编辑模式】：

  - 按 Tab 进入编辑模式，按 Ctrl + Z 撤销，**输入法应该停用**，再按 Ctrl + Shift + Z 重做，**输入法应该启用**。

  - 反复打开字体选择窗口，**字体应该正常加载**。

- 特定于【文本编辑器】：

  - 新建文本对象，按 Ctrl + Z 撤销，**输入法应该停用**，再按 Ctrl + Shift + Z 重做，**输入法应该启用**。

### 强制取消 - 测试

> 注意：已知在微软拼音输入法中，使用鼠标滚轮，会导致候选窗口隐藏，但继续输入文字会重新显示候选窗口。该问题和本插件无关。

> **测试项目**

- 输入过程中，在当前窗口任意地方（含非客户区）按下任意鼠标按键，**输入应该取消**。

- 输入过程中，通过 鼠标单击、Alt+Tab、Win+Tab 激活其它窗口时，**输入应该取消**。

- 输入过程中，通过 Snipaste 按快捷键截图，**输入应该取消**。

### 文本输入 - 测试

> **测试项目**

- 随意输入文字激活候选窗口，**候选窗口应该出现在预定位置**，调整选项中的“候选窗口水平位置”，看位置 **是否变化和正确**。

  > 注意：当候选框宽度过长，系统会将其往左移动。

  文本物体编辑模式：屏幕工作区底部，左侧应该对齐“候选窗口水平位置”选项所指定的位置。

  文本编辑器：光标下方的附近。

  控制台：视图区下方，当下方位置不够，则显示在稍上的位置，但无论怎样左侧和视图区左侧基本对齐。

  > 注意：已知搜狗输入法无法即时响应“候选窗口水平位置”的更改。

- 让任意物体进入编辑模式，然后在文本编辑器中分开输入数字键上的标点和中文，再多次撤销和重做，**文字应该能够被撤销和重做**。

- 英文输入模式输入测试：

  - **能否输入字母**（含 Shift + 字母键）。

  - **能否输入数字**（含 Shift + 数字键，含数字键盘）。

  - **能否输入标点**（含 Shift + 标点键）。

  - **能否输入空格，换行、退格、DELETE、HOME、END等是否正常**。

- 中文输入模式输入测试：

  - **能否上屏【全部】字**（如："nihao" 中上屏“你好”）。

  - **能否上屏【部分】字**（如："nihao" 中只上屏“你”）。

  - **能否输入数字**（含 Shift + 数字键，含数字键盘）。

  - **能否输入标点**（含 Shift + 标点键）。

  - **能否输入空格，换行、退格、DELETE、HOME、END等是否正常**。

  - 输入过程中，按 方向、Home、End 键，**能否移动光标**，**能否移动到最左侧和最右侧**。

  - 按组输入若干文字（如：今天 天气 不错），按撤销时，**是否能够完整撤销每组文字**。

  - 快速输入多个数字、标点后，再输入一个特定的标点，如：》，**是否能够输出预期的字符**。（测试合成消息是否存在残留）

- 特定于【文本物体编辑模式】的测试：

  - 在中文输入模式时，按 Shift + 鼠标中键 移动视图，释放 Shift 键后，**能否恢复中文输入模式**。

# 其它测试

> **测试项目**

- 检查自动保存 **是否正常工作**。

  在 Blender 文件 > 恢复 > 自动保存 打开的窗口中可以查看到自动保存的文件。

  看最新的文件的修改时间是否在自动保存的间隔范围内。

- 检查涉及到鼠标捕获的操作时，是否对操作造成干扰。

    - 在数值输入框上拖动鼠标，拖动一段长距离，然后观察数值 **能否保持**。

    - 按 “G” 移动物体，拖动一段长距离，然后随意按键，然后观察物体的位置 **能否保持**。

- 鼠标悬停在 3D视图 的 变换轴向 上，看工具提示是否能够弹出，并且在鼠标不动的时候 **能否长时间保持打开**。

- 在停用插件后，激活数字输入框，是否会启用输入法（官方版本会启用输入法，但这是个BUG，但当前插件利用了这个BUG实现功能，所以需要确保这个BUG存在）。

- 反复启停插件，插件 **是否保持正常**（查看控制台是否出现错误信息）。

- 反复切换“自动管理输入法状态”、“使用输入法输入文字”、“文本物体编辑模式”、“文本编辑器”和“控制台”选项，留意控制台中“管理器”和“检查器” **是否正常停用和启用**。

  这种情况下检查器的关闭分为“等待”和“完成”两个阶段，只有鼠标移动到目标窗口才能完成“完成”阶段。

  “等待”阶段时检查器在功能上已经关闭，因此无论何时完成关闭都是不影响的，只要能关闭就可以了。

- 检查其余选项 **是否正常工作**。
